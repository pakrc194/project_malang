<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³µì—° ì‚­ì œ</title>
<style>
/* 1. ì „ì²´ ì„¹ì…˜(Section) ì¤‘ì•™ ì •ë ¬ ë° ìŠ¤íƒ€ì¼ (ê¸°ì¡´ ìœ ì§€) */
section {
    max-width: 500px;
    margin: 50px auto;
    padding: 20px;
    text-align: center;
    border: 1px solid #ddd;
    border-radius: 8px;
    background-color: #fff;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
}

/* 2. í¬ìŠ¤í„° ì»¨í…Œì´ë„ˆ ë° ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ (ê¸°ì¡´ ìœ ì§€) */
.perf_poster {
    margin: 0 auto 20px auto;
    width: 120px;
}
.perf_poster img {
    max-width: 100%;
    height: auto;
    border-radius: 4px;
    display: block;
}

/* 3. ê²½ê³  ë©”ì‹œì§€ (perf_warn) ìŠ¤íƒ€ì¼ (ê¸°ì¡´ ìœ ì§€) */
.perf_warn {
    font-size: 1.1rem;
    color: #333;
    margin-bottom: 25px;
    line-height: 1.5;
}

/* 4. ë²„íŠ¼ ì»¨í…Œì´ë„ˆ (perf_submit) ìˆ˜ì • */
.perf_submit {
    margin-top: 20px;
    display: flex; /* ğŸ’¡ Flexbox ì ìš© */
    justify-content: center; /* ğŸ’¡ ë²„íŠ¼ë“¤ì„ ì¤‘ì•™ì— ë°°ì¹˜ */
    gap: 15px; /* ë²„íŠ¼ ì‚¬ì´ ê°„ê²© */
}

/* 5. ë²„íŠ¼ ê³µí†µ ìŠ¤íƒ€ì¼ */
.perf_submit input[type="button"] {
    padding: 10px 20px;
    font-size: 1rem;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s;
    font-weight: 500;
    min-width: 80px; /* ë²„íŠ¼ ìµœì†Œ ë„ˆë¹„ ì§€ì • */
}

/* 6. ì‚­ì œ ë²„íŠ¼ (#btnHide) - ì£¼ ìƒ‰ìƒ (ê²½ê³ /ì‚­ì œ) */
#btnHide {
    color: white;
    background-color: #dc3545; /* ë¶‰ì€ìƒ‰ */
}
#btnHide:hover {
    background-color: #c82333;
}

/* 7. ì·¨ì†Œ ë²„íŠ¼ (#btnCancel) - ë³´ì¡° ìƒ‰ìƒ (ì¼ë°˜/ì·¨ì†Œ) */
#btnCancel {
    color: #555;
    background-color: #f0f0f0; /* ì—°í•œ íšŒìƒ‰ ë°°ê²½ */
    border: 1px solid #ccc;
}
#btnCancel:hover {
    background-color: #e0e0e0;
}
</style>
</head>
<script>
    window.onload = function() {
        let btnHide = document.querySelector('#btnHide')
        let btnCancel = document.querySelector('#btnCancel')
        let perfId = document.querySelector('#perf_id')
        btnHide.addEventListener('click', (e)=>{
            console.log('perf_id : ', perfId.value)
            fetch(`/admin/perf/hide`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({perf_id: perfId.value})
            })
            .then(res => res.json())
            .then(data => {
                console.log(data)
                alert('ìˆ¨ê¹€ì²˜ë¦¬')
                location.href=`/admin/perf/detail/${perfId.value}`
            })
            .catch(err => console.log('ì—ëŸ¬ :', err.message))
        })

        btnCancel.addEventListener('click', (e)=>{
            location.href=`/admin/perf/detail/${perfId.value}`
        })
    }
</script>
<body>
    <input type="hidden" id="perf_id" value="{{perf.perf_id}}">
    <section>
        <div class="perf_poster">
            <img src="/img/{{perf.poster_url}}" alt="">
        </div>
        <div class="perf_warn">
            '{{perf.perf_name}}' ê³µì—°ì„ ì‚­ì œ ì²˜ë¦¬í•˜ê² ìŠµë‹ˆê¹Œ?<br>
            ì‚­ì œí•  ê²½ìš° ë°ì´í„°ëŠ” ë‚¨ì•„ìˆìœ¼ë‚˜ ìˆ˜ì • ë° ì˜ˆë§¤ê°€ ë¶ˆê°€í•©ë‹ˆë‹¤.
        </div>
        <div class="perf_submit">
            <input type="button" id="btnHide" value="ì‚­ì œ"/>
            <input type="button" id="btnCancel" value="ì·¨ì†Œ"/>
        </div>
    </section>
</body>
</html>