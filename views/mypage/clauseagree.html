<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>약관 동의</title>
    <style>
        /* 전체 */
        * {
            margin: 0;
            padding: 0;
        }

        /* 헤더, 푸터*/
        footer {
            width: 100%;
            background-color: #ff0;
            border: 1px solid #ddd;
        }

        /* 전체 폼 */
        form {
            width: 800px;
            height: 700px;
            margin: 50px auto;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border: 1px solid #ccc;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);


        }

        /* 제목 */
        h2 {
            text-align: center;
            font-weight: 400;
        }

        label {
            display: block;
            margin: 50px auto;
            width: 500px;
            height: 50px;
            box-shadow: 1px 1px #d3d0d0;
            border-radius: 20px;
            font-weight: bold;
        }

        button {
            margin-left: 150px;
            margin-top: 5px;
            width: 500px;
            height: 50px;
            background-color: #0d47a1;
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            font-size: 20px;
        }

        button:hover {
            background-color: #1565c0;
        }

        label>a {
            font-size: 13px;
            color: rgb(54, 54, 125);
            text-decoration: none;
            margin-left: 10px;
            text-align: right;
            font-weight: bold;
        }

        .entireCheck {
            display: block;
            margin: 50px auto;
            width: 500px;
            height: 50px;
            box-shadow: 1px 1px #d3d0d0;
            border-radius: 20px;

        }

        .loginLogo {
            width: 100px;
            height: 100px;
            display: block;
            margin: auto;
        }

        .logo {
            text-align: center;
            text-decoration: none;
            color: black;
        }
    </style>
</head>

<body>

    {% include '../header.html' %}

    <wrapper>
        <form id="agreeForm">

            <h2><a href="/main" class="logo" style="font-weight: bold;"><img src="../../img/malang_logo.png" alt=""
                        class="loginLogo">약관동의</a></h2>

            <label>&nbsp;<input type="checkbox" name="chk" value="1"> 서비스 이용 약관 <a href="#"
                    onclick="openPopup('service')">자세히보기</a></label>
            <label>&nbsp;<input type="checkbox" name="chk" value="2"> 개인정보 수집 동의 <a href="#"
                    onclick="openPopup('privacy')">자세히보기</a></label>
            <label>&nbsp;<input type="checkbox" name="chk" value="3"> 마케팅 정보 수신 동의 <a href="#"
                    onclick="openPopup('marketing')">자세히보기</a></label>
            <label class="entireCheck">&nbsp;<input type="checkbox" id="checkAll"> 전체 동의하기</label>

            <button type="button" id="nextBtn">다음</button>
        </form>
    </wrapper>

    <footer>푸터</footer>

    <script>
        // 전체 동의
        const checkAll = document.getElementById('checkAll');
        const items = document.querySelectorAll('input[name="chk"]');

        checkAll.addEventListener('change', function () {
            items.forEach(item => item.checked = checkAll.checked);
        });

        items.forEach(item => {
            item.addEventListener('change', function () {
                checkAll.checked = [...items].every(chk => chk.checked);
            });
        });

        // 다음 버튼 클릭 시
        document.getElementById('nextBtn').addEventListener('click', function () {
            const allChecked = [...items].every(chk => chk.checked);
            if (!allChecked) {
                alert('모든 약관에 동의해야 합니다.');
                return; // 페이지 이동 막기
            }
            // 모두 동의한 경우 회원가입 페이지로 이동
            location.href = '/joinmem';
        });

        // 자세히보기 팝업
        function openPopup(type) {
            let message = '';
            if (type === 'service') {
                message = `1. 회원은 정확한 정보를 제공해야 하며, ID와 비밀번호 관리 책임을 집니다.

2. 티켓의 상업적 재판매(암표 행위)를 엄격히 금지하며, 위반 시 회원 자격이 박탈될 수 있습니다.

3. 취소 및 환불은 공연 주최 측 규정에 따릅니다.

4. 공연 관람 당일에는 취소 및 환불이 원칙적으로 불가능하며, 티켓 분실 시 재발행되지 않습니다.

5. 회사는 천재지변 및 회원 간 분쟁에 대해 책임지지 않으며, 서비스의 지적재산권은 회사에 귀속됩니다.`;
            } else if (type === 'privacy') {
                message = `1. 수집 항목: 회원가입, 예매, 서비스 이용 과정에서 성명, 연락처, 이메일, 결제 정보 등이 수집됩니다.

2. 수집 및 이용 목적: 뮤지컬 예매 서비스 제공, 고객 문의 응대, 티켓 배송 및 회원 관리, 마케팅에 활용됩니다.

3. 보유 및 이용 기간: 회원 탈퇴 또는 동의 철회 시까지 보관하며, 관련 법령에 따른 의무 보관 기간 동안 별도로 보관될 수 있습니다.

4. 동의 거부 시 불이익: 개인정보 수집 및 이용에 동의하지 않을 권리가 있으나, 동의하지 않을 경우 회원가입 및 예매 서비스 이용에 제한이 따를 수 있습니다.

5. 위탁 및 제3자 제공: 원활한 서비스 이행을 위해 티켓 배송 업체, 결제 대행사(PG사) 등에게 최소한의 정보가 제공됩니다.`;
            } else if (type === 'marketing') {
                message = `1. 수집 항목: 회원 ID, 이름, 휴대전화 번호, 이메일 주소가 마케팅 목적으로 활용됩니다.

2. 이용 목적: '말랑뮤즈'의 신규 뮤지컬 공연 및 이벤트 정보, 할인 쿠폰, 맞춤형 추천 등의 광고성 정보를 전송합니다.

3. 수신 채널: 이메일, 휴대전화 문자 메시지(SMS/MMS), 푸시 알림 등의 방법을 통해 정보를 제공합니다.

4. 수신 동의 거부: 회원은 언제든지 마이페이지 설정 또는 수신된 광고의 수신 거부 링크/번호를 통해 동의를 철회하거나 거부할 수 있습니다.

5. 동의 철회 불이익: 마케팅 정보 수신 동의를 거부하더라도 예매 확인, 취소, 환불 등 비광고성 필수 정보는 계속 수신됩니다.`;
            }
            alert(message);
        }
    </script>

</body>

</html>